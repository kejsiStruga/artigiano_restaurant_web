/*!CK:4115839443!*//*1453125382,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["HgX0s"]); }

__d('VideoWatchAndScrollContainer.react',['DOM','DOMContainer.react','DOMDimensions','Event','Parent','React','ReactCSSTransitionGroup','Rect','SubscriptionsHandler','cancelAnimationFrame','csx','cx','getViewportDimensions','requestAnimationFrame','shallowCompare','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x,y;'use strict';var z=m.PropTypes,aa=300,ba=530,ca={NW:'nw',NE:'ne',SE:'se',SW:'sw'};x=babelHelpers.inherits(da,m.Component);y=x&&x.prototype;function da(ea,fa){y.constructor.call(this,ea,fa);this.state=this.$VideoWatchAndScrollContainer1(this.props);}da.prototype.$VideoWatchAndScrollContainer1=function(ea){var fa=this.$VideoWatchAndScrollContainer2(),ga=this.$VideoWatchAndScrollContainer3(this.props.initialPosition,fa);return {containerBoundingBox:fa,dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,height:ga.height,left:ga.left,resizeDirection:null,top:ga.top,width:ga.width};};da.prototype.shouldComponentUpdate=function(ea,fa){return v(this,ea,fa);};da.prototype.componentDidUpdate=function(ea,fa){if(!fa)return;if(!fa.dragging&&this.state.dragging){this.documentSubscriptions=new p();this.documentSubscriptions.addSubscriptions(k.listen(document,'mousemove',this.$VideoWatchAndScrollContainer4.bind(this)),k.listen(document,'mouseup',this.$VideoWatchAndScrollContainer5.bind(this)));}else if(fa.dragging&&!this.state.dragging)this.documentSubscriptions.release();};da.prototype.componentDidMount=function(){this.resizeListener=k.listen(window,'resize',w((function(){var ea=this.$VideoWatchAndScrollContainer2(),fa=this.$VideoWatchAndScrollContainer3({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},ea);this.setState({containerBoundingBox:ea,height:fa.height,left:fa.left,top:fa.top,width:fa.width});}).bind(this),100));};da.prototype.componentWillUnmount=function(){this.props.onInitialPositionUpdate({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width});if(this.documentSubscriptions)this.documentSubscriptions.release();if(this.resizeListener)this.resizeListener.remove();};da.prototype.$VideoWatchAndScrollContainer6=function(ea,event){this.$VideoWatchAndScrollContainer7(event,ea);};da.prototype.$VideoWatchAndScrollContainer8=function(event){this.$VideoWatchAndScrollContainer7(event,null);};da.prototype.$VideoWatchAndScrollContainer7=function(event,ea){if(event.button!==0)return;if(l.byClass(event.target,"_360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$VideoWatchAndScrollContainer2(),dragging:true,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:event.screenX,draggingStartMousePositionY:event.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:ea});event.preventDefault();};da.prototype.$VideoWatchAndScrollContainer2=function(){var ea=0,fa=h.scry(document.body,".fbChatSidebar");if(fa.length===1)ea=j.getElementDimensions(fa[0]).width;var ga=t.withoutScrollbars(),ha=new o(43,ga.width-ea,ga.height,0);return ha;};da.prototype.$VideoWatchAndScrollContainer3=function(ea,fa){var ga=new o(ea.top,ea.left+ea.width,ea.top+ea.height,ea.left);ga=ga.boundWithin(fa);return {height:ga.h(),left:ga.getLeft(),top:ga.getTop(),width:ga.w()};};da.prototype.$VideoWatchAndScrollContainer9=function(ea,fa,ga){var ha=ea.top,ia=fa.getTop(),ja=ia-ha;if(ja>0){if(ga===ca.NE||ga===ca.NW)ea.height-=ja;ea.top=ia;}var ka=ea.left,la=fa.getLeft(),ma=la-ka;if(ma>0){if(ga===ca.NW||ga===ca.SW)ea.width-=ma;ea.left=la;}var na=ea.top+ea.height,oa=fa.getTop()+fa.h(),pa=na-oa;if(pa>0)ea.height=oa-ea.top;var qa=ea.left+ea.width,ra=fa.getLeft()+fa.w(),sa=qa-ra;if(sa>0)ea.width=ra-ea.left;};da.prototype.$VideoWatchAndScrollContainer10=function(ea,fa,ga){if(ea.width<aa){if(ga===ca.NW||ga===ca.SW)ea.left-=aa-ea.width;ea.width=aa;}if(ea.height<aa){if(ga===ca.NE||ga===ca.NW)ea.top-=aa-ea.height;ea.height=aa;}};da.prototype.$VideoWatchAndScrollContainer11=function(ea,fa,ga){if(ea.width>ba){if(ga===ca.NW||ga===ca.SW)ea.left+=ea.width-ba;ea.width=ba;}if(ea.height>ba){if(ga===ca.NE||ga===ca.NW)ea.top+=ea.height-ba;ea.height=ba;}};da.prototype.$VideoWatchAndScrollContainer12=function(ea,fa,ga){var ha=ea.width/ea.height,ia=fa.width/fa.height;if(ha>ia){var ja=ea.height*ia;if(ga===ca.NW||ga===ca.SW)ea.left+=ea.width-ja;ea.width=ja;}else if(ha<ia){var ka=ea.width/ia;if(ga===ca.NE||ga===ca.NW)ea.top+=ea.height-ka;ea.height=ka;}};da.prototype.$VideoWatchAndScrollContainer13=function(ea,fa,ga,ha){this.$VideoWatchAndScrollContainer9(ea,ga,ha);this.$VideoWatchAndScrollContainer10(ea,fa,ha);this.$VideoWatchAndScrollContainer11(ea,fa,ha);this.$VideoWatchAndScrollContainer12(ea,fa,ha);return {height:ea.height,left:ea.left,top:ea.top,width:ea.width};};da.prototype.$VideoWatchAndScrollContainer4=function(event){q(this.dragUpdateRequestAnimationFrameID);this.dragUpdateRequestAnimationFrameID=u(this.$VideoWatchAndScrollContainer14.bind(this,event));};da.prototype.$VideoWatchAndScrollContainer14=function(event){if(!this.state.dragging)return;var ea=event.screenX-this.state.draggingStartMousePositionX,fa=event.screenY-this.state.draggingStartMousePositionY,ga=this.state.resizeDirection,ha;if(!ga){ha=this.$VideoWatchAndScrollContainer3({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+ea,top:this.state.draggingStartTop+fa,width:this.state.draggingStartWidth},this.state.containerBoundingBox);this.setState({height:ha.height,left:ha.left,top:ha.top,width:ha.width});}else{var ia=this.state.draggingStartHeight,ja=this.state.draggingStartLeft,ka=this.state.draggingStartTop,la=this.state.draggingStartWidth;if(ga===ca.NE||ga===ca.SE)la+=ea;if(ga===ca.NW||ga===ca.SW){ja+=ea;la-=ea;}if(ga===ca.SE||ga===ca.SW)ia+=fa;if(ga===ca.NE||ga===ca.NW){ka+=fa;ia-=fa;}ha=this.$VideoWatchAndScrollContainer13({height:ia,left:ja,top:ka,width:la},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,ga);this.setState({height:ha.height,left:ha.left,top:ha.top,width:ha.width});}event.preventDefault();};da.prototype.$VideoWatchAndScrollContainer5=function(event){q(this.dragUpdateRequestAnimationFrameID);this.props.onDrop();this.setState({dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null});event.preventDefault();};da.prototype.render=function(){var ea={height:Math.round(this.state.height)+'px',left:this.state.left+'px',top:this.state.top+'px',width:Math.round(this.state.width)+'px'};this.props.onInitialPositionUpdate({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width});return (m.createElement(n,{transitionAppear:true,transitionAppearTimeout:500,transitionEnter:false,transitionLeave:false,transitionName:'fbWatchAndScroll-FadeIn'},m.createElement('div',{className:"_360g",style:ea},m.createElement('div',{className:"_52u8",onMouseDown:this.$VideoWatchAndScrollContainer8.bind(this)},m.createElement(i,null,this.props.videoElement)),m.createElement('div',{className:"_52ua",onMouseDown:this.$VideoWatchAndScrollContainer6.bind(this,ca.NW)}),m.createElement('div',{className:"_52uc",onMouseDown:this.$VideoWatchAndScrollContainer6.bind(this,ca.NE)}),m.createElement('div',{className:"_52ui",onMouseDown:this.$VideoWatchAndScrollContainer6.bind(this,ca.SE)}),m.createElement('div',{className:"_52uj",onMouseDown:this.$VideoWatchAndScrollContainer6.bind(this,ca.SW)}))));};da.propTypes={initialPosition:z.object.isRequired,onDrop:z.func.isRequired,onGrab:z.func.isRequired,onInitialPositionUpdate:z.func.isRequired,videoElement:z.instanceOf(HTMLElement).isRequired};f.exports=da;},null);
__d('VideoWatchAndScrollController',['DOM','DOMDimensions','EventListener','React','ReactDOM','SubscriptionsHandler','VideoAutoplayControllerX','VideoFrameBuffer','VideoPlayerLoggerEvent','VideoPlayerReason','VideoWatchAndScrollContainer.react','cancelAnimationFrame','cx','destroyOnUnload','getViewportDimensions','invariant','requestAnimationFrame','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z=169,aa=300,ba=10,ca=300,da=300,ea=300,fa=2,ga=null;function ha(){'use strict';this.$VideoWatchAndScrollController1=new m();this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController3=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController5=z;this.$VideoWatchAndScrollController6=aa;this.$VideoWatchAndScrollController7=window.document.getElementById('leftCol');this.$VideoWatchAndScrollController8=window.document.getElementById('pagelet_bluebar');this.$VideoWatchAndScrollController9();u((function(){this.$VideoWatchAndScrollController10();if(this.$VideoWatchAndScrollController4)this.$VideoWatchAndScrollController11();if(this.$VideoWatchAndScrollController1)this.$VideoWatchAndScrollController1.release();if(this===ga)ga=null;}).bind(this));}ha.registerVideoController=function(ia,ja){'use strict';if(ga==null)ga=new ha();ga.$VideoWatchAndScrollController1.addSubscriptions(ia.addListener('enterWatchAndScroll',function(){return ga.$VideoWatchAndScrollController12(ia);}),ia.addListener('exitWatchAndScroll',function(){return ga.$VideoWatchAndScrollController13(ia);}),ia.addListener('WatchAndScroll/close',function(){return ga.$VideoWatchAndScrollController14();}));var ka=['beginPlayback','changeVolume','muteVideo','qualityChange','toggleFullscreen','unmuteVideo','VideoChannelController/enterChannel'];ka.forEach(function(event){return (ga.$VideoWatchAndScrollController1.addSubscriptions(ia.addListener(event,function(na){return ga.$VideoWatchAndScrollController15(ia,ja,event,na);})));});if(ja){var la=['pausePlayback','finishPlayback','muteVideo'];la.forEach(function(event){return (ga.$VideoWatchAndScrollController1.addSubscriptions(ia.addListener(event,function(){return ga.$VideoWatchAndScrollController16(event);})));});var ma=false;ia.registerOption('WatchAndScroll','isSlidingSuppressed',function(){return ma;},function(na){return ma=na;});}};ha.prototype.$VideoWatchAndScrollController15=function(ia,ja,event,ka){'use strict';if(this.$VideoWatchAndScrollController4){if(this.$VideoWatchAndScrollController17!==ia)this.$VideoWatchAndScrollController17.pause(q.USER);}else if(ja)if(event==='toggleFullscreen'||event==='VideoChannelController/enterChannel'){ia.setOption('WatchAndScroll','isSlidingSuppressed',true);if(this.$VideoWatchAndScrollController18)this.$VideoWatchAndScrollController10();}else if(!ia.getOption('WatchAndScroll','isSlidingSuppressed')&&(event!=='beginPlayback'||Object(ka)===ka&&ka.reason===q.USER))this.$VideoWatchAndScrollController19(ia);};ha.prototype.$VideoWatchAndScrollController16=function(event){'use strict';if(this.$VideoWatchAndScrollController20&&event==='pausePlayback'){this.$VideoWatchAndScrollController20=false;}else if(this.$VideoWatchAndScrollController18&&!this.$VideoWatchAndScrollController21)this.$VideoWatchAndScrollController10();};ha.prototype.$VideoWatchAndScrollController19=function(ia){'use strict';var ja=ia.getVideoNode();if(!ja.offsetParent)return;this.$VideoWatchAndScrollController18=ia;this.$VideoWatchAndScrollController22=y(this.$VideoWatchAndScrollController23.bind(this),100);window.addEventListener('resize',this.$VideoWatchAndScrollController22);this.$VideoWatchAndScrollController24(ja);this.$VideoWatchAndScrollController25();};ha.prototype.$VideoWatchAndScrollController23=function(){'use strict';if(this.$VideoWatchAndScrollController18){this.$VideoWatchAndScrollController24(this.$VideoWatchAndScrollController26||this.$VideoWatchAndScrollController18.getVideoNode());this.$VideoWatchAndScrollController27();}};ha.prototype.$VideoWatchAndScrollController28=function(ia){'use strict';var ja={left:0,top:0};do{ja.top+=ia.offsetTop;ja.left+=ia.offsetLeft;}while(ia=ia.offsetParent);return ja;};ha.prototype.$VideoWatchAndScrollController24=function(ia){'use strict';this.$VideoWatchAndScrollController29=this.$VideoWatchAndScrollController28(ia);this.$VideoWatchAndScrollController30=ia.scrollWidth;this.$VideoWatchAndScrollController31=ia.scrollHeight;var ja=Math.max(this.$VideoWatchAndScrollController30,this.$VideoWatchAndScrollController31);if(ja<ea){var ka=ea/ja;this.$VideoWatchAndScrollController30*=ka;this.$VideoWatchAndScrollController31*=ka;}var la=v.withoutScrollbars();if(this.$VideoWatchAndScrollController7){var ma=this.$VideoWatchAndScrollController28(this.$VideoWatchAndScrollController7),na=window.getComputedStyle(this.$VideoWatchAndScrollController7),oa=parseInt(na.paddingTop,10);this.$VideoWatchAndScrollController32=ma.top+oa;if(this.$VideoWatchAndScrollController30>=this.$VideoWatchAndScrollController31){var pa=ea;}else pa=ea*this.$VideoWatchAndScrollController30/this.$VideoWatchAndScrollController31;if(ma.left<=this.$VideoWatchAndScrollController29.left){var qa=parseInt(na.paddingRight,10),ra=ma.left+this.$VideoWatchAndScrollController7.scrollWidth-qa;this.$VideoWatchAndScrollController33=Math.max(ba,ra-this.$VideoWatchAndScrollController30);var sa=Math.max(pa,ra-this.$VideoWatchAndScrollController33);}else{var ta=parseInt(na.paddingLeft,10),ua=ma.left+ta,va=la.width-ba;sa=Math.max(pa,Math.min(this.$VideoWatchAndScrollController30,va-ua));this.$VideoWatchAndScrollController33=Math.min(ua,va-sa);}}else{sa=aa;this.$VideoWatchAndScrollController33=ba;this.$VideoWatchAndScrollController32=ba;if(this.$VideoWatchAndScrollController8)this.$VideoWatchAndScrollController32+=this.$VideoWatchAndScrollController8.scrollHeight;}this.$VideoWatchAndScrollController34=sa/this.$VideoWatchAndScrollController30;this.$VideoWatchAndScrollController35=Math.abs(this.$VideoWatchAndScrollController29.left-this.$VideoWatchAndScrollController33)/fa;this.$VideoWatchAndScrollController36=this.$VideoWatchAndScrollController29.top-this.$VideoWatchAndScrollController32;this.$VideoWatchAndScrollController37={isTriggered:(function(){return window.scrollY>this.$VideoWatchAndScrollController36;}).bind(this),getDistance:(function(){return window.scrollY-this.$VideoWatchAndScrollController36;}).bind(this),getTop:(function(wa){return this.$VideoWatchAndScrollController32;}).bind(this)};this.$VideoWatchAndScrollController38=la.height-ba;this.$VideoWatchAndScrollController39=this.$VideoWatchAndScrollController29.top+this.$VideoWatchAndScrollController31-this.$VideoWatchAndScrollController38;this.$VideoWatchAndScrollController40={isTriggered:(function(){return this.$VideoWatchAndScrollController39>window.scrollY;}).bind(this),getDistance:(function(){return this.$VideoWatchAndScrollController39-window.scrollY;}).bind(this),getTop:(function(wa){return this.$VideoWatchAndScrollController38-wa;}).bind(this)};};ha.prototype.$VideoWatchAndScrollController25=function(){'use strict';if((this.$VideoWatchAndScrollController41||this.$VideoWatchAndScrollController18.isState('playing'))&&!this.$VideoWatchAndScrollController18.isMuted()){this.$VideoWatchAndScrollController42(this.$VideoWatchAndScrollController43.bind(this));this.$VideoWatchAndScrollController43();}else this.$VideoWatchAndScrollController10();};ha.prototype.$VideoWatchAndScrollController43=function(){'use strict';if(this.$VideoWatchAndScrollController21||!this.$VideoWatchAndScrollController18)return;if(this.$VideoWatchAndScrollController37.isTriggered()){this.$VideoWatchAndScrollController21=this.$VideoWatchAndScrollController37;}else if(this.$VideoWatchAndScrollController40.isTriggered())this.$VideoWatchAndScrollController21=this.$VideoWatchAndScrollController40;if(this.$VideoWatchAndScrollController21){this.$VideoWatchAndScrollController44={left:this.$VideoWatchAndScrollController29.left-window.scrollX,top:this.$VideoWatchAndScrollController29.top-window.scrollY,width:this.$VideoWatchAndScrollController30,height:this.$VideoWatchAndScrollController31};CSS.addClass(this.$VideoWatchAndScrollController45(),"_5h98");this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController18.addListener('stateChange',this.$VideoWatchAndScrollController47.bind(this));this.$VideoWatchAndScrollController48(this.$VideoWatchAndScrollController18,q.AUTOPLAY);this.$VideoWatchAndScrollController42(this.$VideoWatchAndScrollController49.bind(this));this.$VideoWatchAndScrollController49();}};ha.prototype.$VideoWatchAndScrollController49=function(){'use strict';if(!this.$VideoWatchAndScrollController21.isTriggered()){this.$VideoWatchAndScrollController50();var ia=this.$VideoWatchAndScrollController18.isState('playing')||this.$VideoWatchAndScrollController46||this.$VideoWatchAndScrollController41;if(ia){this.$VideoWatchAndScrollController41=this.$VideoWatchAndScrollController18.addListener('stateChange',this.$VideoWatchAndScrollController51.bind(this));CSS.addClass(this.$VideoWatchAndScrollController18.getRootNode(),"_5h9g");var ja=this.$VideoWatchAndScrollController18.getOption('VideoControls','areControlsVisible');if(!ja&&!this.$VideoWatchAndScrollController52)this.$VideoWatchAndScrollController52=this.$VideoWatchAndScrollController18.getOption('VideoControls','acquireForceHideLock');}this.$VideoWatchAndScrollController11();if(ia)this.$VideoWatchAndScrollController18.play(q.AUTOPLAY);this.$VideoWatchAndScrollController25();}else if(!this.$VideoWatchAndScrollController53)this.$VideoWatchAndScrollController53=x(this.$VideoWatchAndScrollController54.bind(this));};ha.prototype.$VideoWatchAndScrollController51=function(){'use strict';if(this.$VideoWatchAndScrollController41&&this.$VideoWatchAndScrollController18.isState('playing')&&!this.$VideoWatchAndScrollController20)this.$VideoWatchAndScrollController55();};ha.prototype.$VideoWatchAndScrollController47=function(){'use strict';if(this.$VideoWatchAndScrollController46&&this.$VideoWatchAndScrollController18.isState('playing')&&!this.$VideoWatchAndScrollController20)this.$VideoWatchAndScrollController56();};ha.prototype.$VideoWatchAndScrollController54=function(){'use strict';delete this.$VideoWatchAndScrollController53;var ia=this.$VideoWatchAndScrollController21.getDistance(),ja=ia>=this.$VideoWatchAndScrollController35?1:ia/this.$VideoWatchAndScrollController35,ka=this.$VideoWatchAndScrollController29.left+ja*(this.$VideoWatchAndScrollController33-this.$VideoWatchAndScrollController29.left),la=1-ja*(1-this.$VideoWatchAndScrollController34),ma=la*this.$VideoWatchAndScrollController31;this.$VideoWatchAndScrollController57.setState({left:ka-window.scrollX,top:this.$VideoWatchAndScrollController21.getTop(ma),width:la*this.$VideoWatchAndScrollController30,height:ma});};ha.prototype.$VideoWatchAndScrollController42=function(ia){'use strict';window.removeEventListener('scroll',this.$VideoWatchAndScrollController27);this.$VideoWatchAndScrollController27=ia||null;window.addEventListener('scroll',this.$VideoWatchAndScrollController27);s(this.$VideoWatchAndScrollController53);delete this.$VideoWatchAndScrollController53;};ha.prototype.$VideoWatchAndScrollController10=function(){'use strict';window.removeEventListener('resize',this.$VideoWatchAndScrollController22);this.$VideoWatchAndScrollController42();if(this.$VideoWatchAndScrollController21)this.$VideoWatchAndScrollController50();if(this.$VideoWatchAndScrollController41)this.$VideoWatchAndScrollController55();if(this.$VideoWatchAndScrollController46)this.$VideoWatchAndScrollController56();delete this.$VideoWatchAndScrollController18;this.$VideoWatchAndScrollController9();};ha.prototype.$VideoWatchAndScrollController50=function(){'use strict';CSS.removeClass(this.$VideoWatchAndScrollController45(),"_5h98");delete this.$VideoWatchAndScrollController21;};ha.prototype.$VideoWatchAndScrollController55=function(){'use strict';CSS.removeClass(this.$VideoWatchAndScrollController18.getRootNode(),"_5h9g");if(this.$VideoWatchAndScrollController52){this.$VideoWatchAndScrollController52.release();delete this.$VideoWatchAndScrollController52;}this.$VideoWatchAndScrollController41.remove();delete this.$VideoWatchAndScrollController41;};ha.prototype.$VideoWatchAndScrollController56=function(){'use strict';this.$VideoWatchAndScrollController46.remove();delete this.$VideoWatchAndScrollController46;};ha.prototype.$VideoWatchAndScrollController12=function(ia){'use strict';this.$VideoWatchAndScrollController10();if(this.$VideoWatchAndScrollController4&&this.$VideoWatchAndScrollController17!==ia){this.$VideoWatchAndScrollController58=ia;this.$VideoWatchAndScrollController11();}else this.$VideoWatchAndScrollController48(ia,q.USER);};ha.prototype.$VideoWatchAndScrollController48=function(ia,ja){'use strict';!!this.$VideoWatchAndScrollController4?w(0):undefined;this.$VideoWatchAndScrollController17=ia;var ka=ia.getVideoInfo();if(ka&&ka.isLiveStream&&this.$VideoWatchAndScrollController17.isPlayerVersion('silvercity')){this.$VideoWatchAndScrollController5=da;this.$VideoWatchAndScrollController6=ca;this.$VideoWatchAndScrollController9();}this.$VideoWatchAndScrollController59=this.$VideoWatchAndScrollController17.getRootNode();this.$VideoWatchAndScrollController60={videoRootNode:this.$VideoWatchAndScrollController59.parentNode,dimensions:i.getElementDimensions(this.$VideoWatchAndScrollController59)};this.$VideoWatchAndScrollController26=this.$VideoWatchAndScrollController61(this.$VideoWatchAndScrollController60.dimensions,this.$VideoWatchAndScrollController17.getVideoNode());h.insertAfter(this.$VideoWatchAndScrollController59,this.$VideoWatchAndScrollController26);this.$VideoWatchAndScrollController62=j.listen(this.$VideoWatchAndScrollController59.parentNode,'click',(function(){this.$VideoWatchAndScrollController10();this.$VideoWatchAndScrollController11();}).bind(this));this.$VideoWatchAndScrollController20=true;this.$VideoWatchAndScrollController17.pause(q.USER);this.$VideoWatchAndScrollController17.detachRootNode();this.$VideoWatchAndScrollController17.setDimensions(this.$VideoWatchAndScrollController6,this.$VideoWatchAndScrollController5);this.$VideoWatchAndScrollController4=true;this.$VideoWatchAndScrollController57=this.$VideoWatchAndScrollController63();this.$VideoWatchAndScrollController64=this.$VideoWatchAndScrollController65(this.$VideoWatchAndScrollController17);this.$VideoWatchAndScrollController17.play(ja);this.$VideoWatchAndScrollController17.logEvent(p.PLAYER_FORMAT_CHANGED,{player_format:'watch_scroll'});};ha.prototype.$VideoWatchAndScrollController9=function(){'use strict';var ia=v.withoutScrollbars();this.$VideoWatchAndScrollController44={height:0+this.$VideoWatchAndScrollController5,left:ba,top:ia.height-this.$VideoWatchAndScrollController5-ba,width:0+this.$VideoWatchAndScrollController6};};ha.prototype.$VideoWatchAndScrollController65=function(ia){'use strict';if(ia)return ia.addListener('stateChange',function(){if(ia.isState('playing')){n.setShouldAutoplay(false);}else n.setShouldAutoplay(true);});};ha.prototype.$VideoWatchAndScrollController61=function(ia,ja){'use strict';var ka=h.create('canvas',{className:"_308d"});ka.height=ia.height;ka.width=ia.width;if(ka.getContext&&ka.getContext('2d'))if(ja instanceof window.HTMLVideoElement){var la=new o(ka,ja);la.updateFrameBuffer();}return ka;};ha.prototype.$VideoWatchAndScrollController14=function(){'use strict';if(this.$VideoWatchAndScrollController18){this.$VideoWatchAndScrollController10();this.$VideoWatchAndScrollController17.setOption('WatchAndScroll','isSlidingSuppressed',true);}this.$VideoWatchAndScrollController11();};ha.prototype.$VideoWatchAndScrollController13=function(ia){'use strict';!this.$VideoWatchAndScrollController4?w(0):undefined;!(ia===this.$VideoWatchAndScrollController17)?w(0):undefined;this.$VideoWatchAndScrollController20=true;this.$VideoWatchAndScrollController17.pause(q.USER);this.$VideoWatchAndScrollController17.detachRootNode();l.unmountComponentAtNode(this.$VideoWatchAndScrollController45());h.remove(this.$VideoWatchAndScrollController26);delete this.$VideoWatchAndScrollController26;this.$VideoWatchAndScrollController62.remove();this.$VideoWatchAndScrollController64.remove();h.prependContent(this.$VideoWatchAndScrollController60.videoRootNode,this.$VideoWatchAndScrollController59);this.$VideoWatchAndScrollController17.setDimensions(this.$VideoWatchAndScrollController60.dimensions.width,this.$VideoWatchAndScrollController60.dimensions.height);this.$VideoWatchAndScrollController17.logEvent(p.PLAYER_FORMAT_CHANGED,{player_format:'inline'});this.$VideoWatchAndScrollController60=null;this.$VideoWatchAndScrollController17=null;this.$VideoWatchAndScrollController4=false;n.setShouldAutoplay(true);this.$VideoWatchAndScrollController2=null;if(this.$VideoWatchAndScrollController58){this.$VideoWatchAndScrollController48(this.$VideoWatchAndScrollController58,q.USER);this.$VideoWatchAndScrollController58=null;}};ha.prototype.$VideoWatchAndScrollController63=function(){'use strict';return l.render(k.createElement(r,{onDrop:this.$VideoWatchAndScrollController66.bind(this),onGrab:this.$VideoWatchAndScrollController67.bind(this),onInitialPositionUpdate:this.$VideoWatchAndScrollController68.bind(this),initialPosition:this.$VideoWatchAndScrollController44,videoElement:this.$VideoWatchAndScrollController59}),this.$VideoWatchAndScrollController45());};ha.prototype.$VideoWatchAndScrollController11=function(){'use strict';if(this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController17.emit('exitWatchAndScroll');};ha.prototype.$VideoWatchAndScrollController67=function(){'use strict';if(this.$VideoWatchAndScrollController18){this.$VideoWatchAndScrollController10();this.$VideoWatchAndScrollController17.setOption('WatchAndScroll','isSlidingSuppressed',true);}this.$VideoWatchAndScrollController69=this.$VideoWatchAndScrollController17.isState('playing');this.$VideoWatchAndScrollController17.pause(q.USER);};ha.prototype.$VideoWatchAndScrollController66=function(){'use strict';if(this.$VideoWatchAndScrollController69)this.$VideoWatchAndScrollController17.play(q.USER);this.$VideoWatchAndScrollController69=null;};ha.prototype.$VideoWatchAndScrollController68=function(ia){'use strict';this.$VideoWatchAndScrollController44=ia;this.$VideoWatchAndScrollController17.setDimensions(ia.width,ia.height);};ha.prototype.$VideoWatchAndScrollController70=function(){'use strict';var ia=h.create('div');h.appendContent(document.body,ia);return ia;};ha.prototype.$VideoWatchAndScrollController45=function(){'use strict';if(!this.$VideoWatchAndScrollController2)this.$VideoWatchAndScrollController2=this.$VideoWatchAndScrollController70();return this.$VideoWatchAndScrollController2;};f.exports=ha;},null);