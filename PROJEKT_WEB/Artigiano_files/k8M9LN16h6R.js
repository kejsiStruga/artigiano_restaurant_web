/*!CK:3346284898!*//*1453252051,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["TzjBt"]); }

__d("SocialGoodCharityActionsLoggerEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INITIALIZATION_BEGIN:"initialization_begin",INITIALIZATION:"initialization",PREPARE_PAYMENT_METHOD:"prepare_payment_method",PUX_METHOD:"pux_method",NUX_METHOD:"nux_method",FRAUD_CHECK_BEGIN:"fraud_check_begin",FRAUD_CHECK:"fraud_check",CHARGE_CREDENTIAL:"charge_credential",COMPLETE_DONATE:"complete_donate",FUNDRAISER_PAGE_SHARE_IMPRESSION:"fundraiser_page_share_impression",CHANGE_DONATION_AMOUNT:"change_donation_amount",CHOOSE_PAYMENT_METHOD:"choose_payment_method",CLICK_ADD_PAYMENT_METHOD:"click_add_payment_method",ADD_PAYMENT_METHOD:"add_payment_method",DONATE_CLICK:"donate_click",DONATE_CANCEL:"donate_cancel",LEARN_MORE_CLICK:"learn_more_click",INVITE_CLICK:"invite_click",INVITE_COMPLETE:"invite_complete",SHARE_CLICK:"share_click",SHARE_CLICK_CANCEL:"share_click_cancel",SHARE_COMPLETE:"share_complete",JOIN_CLICK:"join_click",JOIN_COMPLETE:"join_complete",LEAVE_CLICK:"leave_click",LEAVE_COMPLETE:"leave_complete",UNFOLLOW_CLICK:"unfollow_click",UNFOLLOW_COMPLETE:"unfollow_complete",FOLLOW_CLICK:"follow_click",FOLLOW_COMPLETE:"follow_complete",VIEW_FUNDRAISER:"view_fundraiser"};},null);
__d("SocialGoodCharityActionsLoggerParentEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DONATE:"donate",INTERACT:"interact",CREATE:"create"};},null);
__d('ConnectionsPYMLTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:ConnectionsPYMLLoggerConfig',this.$ConnectionsPYMLTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:ConnectionsPYMLLoggerConfig',this.$ConnectionsPYMLTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$ConnectionsPYMLTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$ConnectionsPYMLTypedLogger1=babelHelpers._extends({},this.$ConnectionsPYMLTypedLogger1,m);return this;};k.prototype.setEvent=function(m){this.$ConnectionsPYMLTypedLogger1.event=m;return this;};k.prototype.setLikeSource=function(m){this.$ConnectionsPYMLTypedLogger1.like_source=m;return this;};k.prototype.setPageID=function(m){this.$ConnectionsPYMLTypedLogger1.page_id=m;return this;};k.prototype.updateExtraData=function(m){m=j(i.serializeMap(m));i.checkExtraDataFieldNames(m,l);this.$ConnectionsPYMLTypedLogger1=babelHelpers._extends({},this.$ConnectionsPYMLTypedLogger1,m);return this;};k.prototype.addToExtraData=function(m,n){var o={};o[m]=n;return this.updateExtraData(o);};var l={event:true,like_source:true,page_id:true};f.exports=k;},null);
__d('SocialGoodCharityActionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();function k(){this.clear();}k.prototype.log=function(){i.log('logger:SocialGoodCharityActionsLoggerConfig',this.$SocialGoodCharityActionsTypedLogger1,h.BASIC);};k.prototype.logVital=function(){i.log('logger:SocialGoodCharityActionsLoggerConfig',this.$SocialGoodCharityActionsTypedLogger1,h.VITAL);};k.prototype.clear=function(){this.$SocialGoodCharityActionsTypedLogger1={};return this;};k.prototype.updateData=function(m){this.$SocialGoodCharityActionsTypedLogger1=babelHelpers._extends({},this.$SocialGoodCharityActionsTypedLogger1,m);return this;};k.prototype.setAbTestNamesToGroups=function(m){this.$SocialGoodCharityActionsTypedLogger1.ab_test_names_to_groups=i.serializeMap(m);return this;};k.prototype.setAttributes=function(m){this.$SocialGoodCharityActionsTypedLogger1.attributes=i.serializeMap(m);return this;};k.prototype.setCampaignID=function(m){this.$SocialGoodCharityActionsTypedLogger1.campaign_id=m;return this;};k.prototype.setCampaignType=function(m){this.$SocialGoodCharityActionsTypedLogger1.campaign_type=m;return this;};k.prototype.setEvent=function(m){this.$SocialGoodCharityActionsTypedLogger1.event=m;return this;};k.prototype.setFundraiserID=function(m){this.$SocialGoodCharityActionsTypedLogger1.fundraiser_id=m;return this;};k.prototype.setHasPaymentMethodOnFile=function(m){this.$SocialGoodCharityActionsTypedLogger1.has_payment_method_on_file=m;return this;};k.prototype.setParentEventType=function(m){this.$SocialGoodCharityActionsTypedLogger1.parent_event_type=m;return this;};k.prototype.setSourceAttributes=function(m){this.$SocialGoodCharityActionsTypedLogger1.source_attributes=i.serializeMap(m);return this;};k.prototype.setVC=function(m){this.$SocialGoodCharityActionsTypedLogger1.vc=m;return this;};k.prototype.updateExtraData=function(m){m=j(i.serializeMap(m));i.checkExtraDataFieldNames(m,l);this.$SocialGoodCharityActionsTypedLogger1=babelHelpers._extends({},this.$SocialGoodCharityActionsTypedLogger1,m);return this;};k.prototype.addToExtraData=function(m,n){var o={};o[m]=n;return this.updateExtraData(o);};var l={ab_test_names_to_groups:true,attributes:true,campaign_id:true,campaign_type:true,event:true,fundraiser_id:true,has_payment_method_on_file:true,parent_event_type:true,source_attributes:true,vc:true};f.exports=k;},null);
__d('Tour',['Arbiter','LayerDestroyOnHide','LayerHideOnEscape','NavigationMessage','PageEvents'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(){'use strict';if(m._instance)m._instance.setTourComplete();m._instance=this;}m.prototype.init=function(){'use strict';this._pageLeaveToken=h.subscribe(l.AJAXPIPE_ONUNLOAD,this.handleLeavePage.bind(this));this._navigationBeginToken=h.subscribe(k.NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this;};m.prototype.registerStep=function(n,o){'use strict';n.disableBehavior(i);n.disableBehavior(j);this.steps[o]=n;n.subscribe('show',function(){n.inform('tour-dialog-show',n);});if(!this.getTourStarted())this.setTourStart();};m.prototype._unsubscribeSubscriptions=function(){'use strict';this._navigationBeginToken.unsubscribe();this._pageLeaveToken.unsubscribe();};m.prototype.handleLeavePage=function(){'use strict';this._unsubscribeSubscriptions();};m.prototype.handleTransition=function(){'use strict';this._unsubscribeSubscriptions();};m.prototype.handleTourStart=function(){'use strict';};m.prototype.handleTourStop=function(){'use strict';};m.prototype.handleTourComplete=function(){'use strict';};m.prototype.showStep=function(n){'use strict';var o=this.steps[n];if(!(this.openDialog==o))this.hideOpenDialog();if(!o)return;this.openDialog=o;o.show();};m.prototype.hideOpenDialog=function(){'use strict';if(this.openDialog){this.openDialog.hide();this.openDialog=null;}};m.prototype.getTourStarted=function(){'use strict';return this.tourStarted;};m.prototype.setTourStart=function(){'use strict';this.tourStarted=true;this.handleTourStart();};m.prototype.setTourStop=function(){'use strict';this.tourStarted=false;this.hideOpenDialog();this.handleTourStop();};m.prototype.setTourComplete=function(){'use strict';if(this.tourComplete)return;this.setTourStop();this.tourComplete=true;this.handleTourComplete();};m.prototype.hideStep=function(n){'use strict';var o=this.steps[n];o&&o.hide();};m.getInstance=function(){'use strict';return m._instance||(m._instance=new m());};Object.assign(m.prototype,{tourStarted:false,tourComplete:false,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null});f.exports=m;},null);
__d('PageFanning',['Animation','AsyncRequest','CSS','DOM','Parent','URI','ActorURI','$','collectDataAttributes','ConnectionsPYMLTypedLogger'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r={setFanStatus:function(t,u,v,w,x,y,z){var aa={ft:{}};if(t)aa={ft:p(t,['ft']).ft};var ba=new m(window.location.href).getQueryData();if(v)if(ba.ref==='pyml_feed'){new q().setEvent('like_page').setLikeSource('profile').setPageID(parseInt(u,10)).log();}else if(ba.ref==='pyml_permalink')new q().setEvent('like_page').setLikeSource('post_permalink').setPageID(parseInt(u,10)).log();x=x||function(fa){var ga=fa.getPayload();if(!ga||!t)return;if(ga.reload){r.reloadOnFanStatusChanged();}else s(t,ga);};var ca={fbpage_id:u,add:v,reload:w};if(z!=null)Object.assign(ca,z);Object.assign(ca,aa);var da='/ajax/pages/fan_status.php';if(z!=null&&z.actor_id!=null)da=n.create(da,z.actor_id);var ea=new i().setURI(da).setData(ca).setNectarModuleDataSafe(t).setHandler(x);if(y)ea.setErrorHandler(y);ea.send();return false;},reloadOnFanStatusChanged:function(){var t=m.getRequestURI();window.location.href=t;},toggleLikeOnFanStatusChanged:function(t,u){var v=o('liked_pages_like_action_'+t),w=o('liked_pages_undo_action_'+t);j.conditionClass(v,'hidden_elem',u);j.conditionClass(w,'hidden_elem',!u);}};function s(t,u){var v=u.feedback;if(!v)return;if(l.byClass(t,'fbTimelineEscapeSectionItem'))t=l.byClass(t,'fan_status_inactive')||t;var w=k.create('span',{className:'fan_status_inactive'},v);t.parentNode.replaceChild(w,t);var x=function(){if(u.can_repeat_action)w.parentNode.replaceChild(t,w);};new h(w).duration(3000).checkpoint().to('backgroundColor','#FFFFFF').duration(1000).ondone(x).go();}f.exports=r;},null);
__d('SocialGoodCharityActionsLoggerUtils',['SocialGoodCharityActionsLoggerEvents','SocialGoodCharityActionsLoggerParentEvents','SocialGoodCharityActionsTypedLogger'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={logAction:function(event,l,m,n){new j().setEvent(event).setParentEventType(l).setCampaignID(m.campaign_id).setCampaignType(m.campaign_type).setAttributes(m.attributes).setSourceAttributes(m.source_attributes).setFundraiserID(m.fundraiser_id).log();},logJoinActionClick:function(l,m){var event=l?h.JOIN_CLICK:h.LEAVE_CLICK;this.logAction(event,i.INTERACT,m);},logFollowActionClick:function(l,m){var event=l?h.FOLLOW_CLICK:h.UNFOLLOW_CLICK;this.logAction(event,i.INTERACT,m);},logShareActionClick:function(l){this.logAction(h.SHARE_CLICK,i.INTERACT,l);},logInviteActionClick:function(l){this.logAction(h.INVITE_CLICK,i.INTERACT,l);}};f.exports=k;},null);
__d("XPagesLikeCountController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/x\/updateLikeCountDomString\/",{page_id:{type:"Int",required:true},like_id:{type:"String",required:true}});},null);
__d('PageLikeButton',['Arbiter','AsyncRequest','AsyncResponse','EditSubscriptions','Event','FeedBlacklistButton','PageFanning','PageLikeConstants','SocialGoodCharityActionsLoggerUtils','SubscribeButton','Tour','XPagesLikeCountController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t={init:function(u,v,w,x,y,z,aa,ba,ca,da,ea,fa){var ga=this._getOption(fa,'isLazy');this._subscribe(o.LIKED,ga,(function(ia,ja){if(this._shouldUpdateButton(x,fa,ja)){u.swap();if(!ca)w.suppressNextMouseEnter&&w.suppressNextMouseEnter();if(this._getOption(fa,'is_fundraiser'))k.toggleNotificationsOnJoin(x,true);}}).bind(this));this._subscribe(o.UNLIKED,ga,(function(ia,ja){if(this._shouldUpdateButton(x,fa,ja)){u.unswap();w.hideFlyout&&w.hideFlyout();if(this._getOption(fa,'is_fundraiser'))k.toggleNotificationsOnJoin(x,false);}}).bind(this));if(ea)this._subscribe(o.SPM_CALLOUT,ga,(function(ia,ja){if(this._shouldUpdateButton(x,fa,ja)){ea.show();h._releaseAllEvents(o.SPM_CALLOUT);}}).bind(this));var ha=(function(event){var ia=u.getCurrentButton();this._likeButtonAction(x,y,z,aa,ia,event,fa);}).bind(this);l.listen(v,'click',ha);if(ga)h.subscribe(o.LAZY_CLICK,function(ia,ja){var event=ja.event,ka=ja.node;if(ka!==v)return;ha(event);});},_subscribe:function(event,u,v){var w=u?[event,event+'.lazy']:[event];h.subscribe(w,v);},initCallout:function(u,v){var w=document.getElementById('pageActionLikeCalloutButton');l.listen(w,'click',this._likeButtonAction(u,v,null,null,null));},initUnlike:function(u,v,w,x){var y=this._getOption(x,'actor_id');l.listen(u,'click',(function(event){this.doUnlikeAction(event,v,w,y,x);}).bind(this));},doUnlikeAction:function(event,u,v,w,x){this._saveLike(event.getTarget(),u,false,function(y){h.inform(o.LIKED,{profile_id:u,actor_id:w});j.defaultErrorHandler(y);},v,null,null,x);this.informUnlike(u,w);},informLike:function(u,v,w,x){var y=this._getOption(x,'actor_id'),z={profile_id:u,actor_id:y,target:v,origin:w};h.inform(o.LIKED,z);z.connected=true;h.inform(q.SUBSCRIBED,z);h.inform(m.UNBLACKLIST,z);},informLikeSuccess:function(u){var v={profile_id:u};h.inform(o.LIKED_SUCCESS,v);h.inform(o.SPM_CALLOUT,v);},informUnlike:function(u,v){var w={profile_id:u,actor_id:v};setTimeout(h.inform.bind(h,o.UNLIKED,w),0);w.connected=false;setTimeout(h.inform.bind(h,q.UNSUBSCRIBED,w),0);h.inform(m.BLACKLIST,w);},updateLikeCount:function(u,v){h.subscribe(o.LIKED_SUCCESS,function(w,x){var y=x.profile_id;if(v==y){var z=s.getURIBuilder().setInt('page_id',v).setString('like_id',u).getURI();new i().setURI(z).send();}});},_saveLike:function(u,v,w,x,y,z,aa,ba){var ca=this._getOption(ba,'actor_id');r.getInstance().hideStep('low_page_likes');if(this._getOption(ba,'is_fundraiser')&&this._getOption(ba,'logging_info'))p.logJoinActionClick(w,this._getOption(ba,'logging_info'));n.setFanStatus(u,v,w,false,(function(){t.informLikeSuccess(v);if(!w&&this._getOption(ba,'reload_on_unlike')||w&&this._getOption(ba,'reload_on_like'))location.reload();}).bind(this),x,{fan_origin:y,fan_source:z,cat:aa,actor_id:ca});},_likeButtonAction:function(u,v,w,x,y,event,z){var aa=this._getOption(z,'actor_id');this._saveLike(event.getTarget(),u,true,function(ba){h.inform(o.UNLIKED,{profile_id:u,actor_id:aa});j.defaultErrorHandler(ba);},v,w,x,z);t.informLike(u,y,v,z);},_shouldUpdateButton:function(u,v,w){var x=this._getOption(v,'actor_id');if(u===w.profile_id){if(x===null)return true;if(w.actor_id!==null&&x===w.actor_id)return true;}return false;},_getOption:function(u,v){if(u&&v in u)return u[v];return null;}};f.exports=t;b.PageLikeButton=t;},null);
__d('PageGetNotificationConstants',['fbt','keyMirror'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={Events:i({CHANGE:null}),Title:{video:h._("Videos"),photo:h._("Photos"),link:h._("Links"),others:h._("Status Updates"),event:h._("Events"),all_posts:h._("All Posts"),none:h._("None")},NewsFeedTitle:{unfollow:h._("Unfollow"),see_first:h._("See First"),follow:h._("Default")},PostSubscriptionType:i({video:null,photo:null,link:null,others:null}),PostSubscriptionTypeArray:['video','photo','link','others'],EventSubscriptionType:i({event:null})};f.exports=j;},null);
__d('PageGetNotificationUtil',['PageGetNotificationConstants'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={subtitleForPageGetNotification:function(j){var k=h.PostSubscriptionTypeArray.map(function(n){return j[n];}),l=k.reduce(function(n,o){return n&&o;},true),m=[];if(l){m.push(h.Title.all_posts);}else h.PostSubscriptionTypeArray.map(function(n){if(j[n])m.push(h.Title[n]);});if(j[h.EventSubscriptionType.event])m.push(h.Title.event);if(m.length!==0)return m.join(', ');return h.Title.none;}};f.exports=i;},null);
__d("XPageUserFanningSettingsStatusController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/get_notification\/status\/",{page_id:{type:"String",required:true}});},null);
__d('PageLikeHoverButton',['Arbiter','AsyncRequest','DOM','PageGetNotificationConstants','PageGetNotificationUtil','PageLikeButton','PageLikeConstants','Run','SubscriptionsHandler','XPageUserFanningSettingsStatusController'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();function r(s,t,u,v){'use strict';var w=arguments.length<=4||arguments[4]===undefined?'':arguments[4];this.$PageLikeHoverButton1=v;this.$PageLikeHoverButton2=t;this.$PageLikeHoverButton3=u;this.$PageLikeHoverButton4=w;this.$PageLikeHoverButton5=new p();this.$PageLikeHoverButton5.addSubscriptions(s.subscribe('itemclick',(function(x,y){return this.$PageLikeHoverButton6(y);}).bind(this)),h.subscribe(k.Events.CHANGE,(function(x,y){if(v===y.pageid)this.$PageLikeHoverButton7(y);}).bind(this)),h.subscribe(n.LIKED_SUCCESS,(function(x,y){return this.$PageLikeHoverButton8(y);}).bind(this)),h.subscribe(n.UNLIKED,(function(x,y){return this.$PageLikeHoverButton9(y);}).bind(this)));o.onLeave((function(){return this.cleanUp;}).bind(this));}r.prototype.$PageLikeHoverButton6=function(s){'use strict';if(s.item.getValue()==='Unlike.'+this.$PageLikeHoverButton1)m.doUnlikeAction(s.event,this.$PageLikeHoverButton1,this.$PageLikeHoverButton4,this.$PageLikeHoverButton3);};r.prototype.$PageLikeHoverButton7=function(s){'use strict';if('follow_status' in s){this.$PageLikeHoverButton10(s);this.$PageLikeHoverButton11(s.follow_status);return;}var t=q.getURIBuilder().setString('page_id',this.$PageLikeHoverButton1).getURI();new i(t).setHandler((function(u){this.$PageLikeHoverButton10(u.payload);this.$PageLikeHoverButton11(u.payload.follow_status);}).bind(this)).send();};r.prototype.$PageLikeHoverButton8=function(s){'use strict';if(s.profile_id===this.$PageLikeHoverButton1){if(this.$PageLikeHoverButton2)this.$PageLikeHoverButton2.show();var t=q.getURIBuilder().setString('page_id',this.$PageLikeHoverButton1).getURI();new i(t).setHandler((function(u){this.$PageLikeHoverButton10(u.payload);this.$PageLikeHoverButton11('follow');}).bind(this)).send();}};r.prototype.$PageLikeHoverButton9=function(s){'use strict';if(s.profile_id===this.$PageLikeHoverButton1){if(this.$PageLikeHoverButton2)this.$PageLikeHoverButton2.hide();var t=q.getURIBuilder().setString('page_id',this.$PageLikeHoverButton1).getURI();new i(t).setHandler((function(u){this.$PageLikeHoverButton10(u.payload);this.$PageLikeHoverButton11('unfollow');}).bind(this)).send();}};r.prototype.$PageLikeHoverButton11=function(s){'use strict';if(!this.$PageLikeHoverButton12)this.$PageLikeHoverButton12=document.getElementById('getNotifNewsfeedSubtitle.'+this.$PageLikeHoverButton1);j.setContent(this.$PageLikeHoverButton12,k.NewsFeedTitle[s]);};r.prototype.$PageLikeHoverButton10=function(s){'use strict';if(!this.$PageLikeHoverButton13)this.$PageLikeHoverButton13=document.getElementById('getNotifSubtitle.'+this.$PageLikeHoverButton1);j.setContent(this.$PageLikeHoverButton13,l.subtitleForPageGetNotification(s));};r.prototype.cleanUp=function(){'use strict';this.$PageLikeHoverButton5&&this.$PageLikeHoverButton5.release();this.$PageLikeHoverButton5=null;};f.exports=r;},null);