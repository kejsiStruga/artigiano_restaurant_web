/*!CK:2601172979!*//*1453237156,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["eknYO"]); }

__d('BrowseClientSizeLogger',['BanzaiLogger','getElementPosition'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={log:function(k){var l=k.getAttribute('data-xt'),m=JSON.parse(l.substring(l.indexOf('{'))),n=i(k);m.client_height=n.height;m.client_width=n.width;m.raw_id=+m.raw_id;h.log('SearchResultsClientSizeLoggerConfig',m);}};f.exports=j;},null);
__d('BrowseEmptyResult',['$','UIPagelet'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={init:function(k,l,m){var n=[];if(k!==null){for(var o=0;o<k.length;o++){var p=h(k[o]);if(null!==p&&p.textContent)n.push(k[o]);}if(n.length===0){k&&k.length===0;i.loadFromEndpoint('BrowsePageletNoContentError',l,m,{usePipe:false});}}}};f.exports=j;},null);
__d('BrowseMouseSpeedTracker',['Event','removeFromArray'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=50,k=null,l=null,m=[],n={x:0,y:0},o=0,p=[{x:0,y:0},{x:0,y:0}];function q(){p[o].x=n.x;p[o].y=n.y;o=(o+1)%2;}function r(){var x=p[0].x-p[1].x,y=p[0].y-p[1].y;return Math.sqrt(x*x+y*y)*(1000/j);}function s(){if(k)return;l=h.listen(document.body,'mousemove',function(event){n.x=event.pageX||event.screenX;n.y=event.pageY||event.screenY;});k=window.setInterval(function(){q();u(r());},j);}function t(){if(k){window.clearInterval(k);l.remove();k=null;}}function u(x){m.forEach(function(y){if(x<y.velocity){y.callback(x);v(y);}});}function v(x){i(m,x);m.length||t();}var w={addTrigger:function(x,y){var z={velocity:x,callback:y};s();m.push(z);return {remove:v.bind(null,z)};}};f.exports=w;},null);
__d('BrowseRunOnLeave',['Run'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={register:function(j){h.onLeave(j);this.handlers=(this.handlers||[]).concat(j);},cleanup:function(){this.handlers.forEach(function(j){return j.call(null,{});});this.handlers=[];}};f.exports=i;},null);
__d('BrowseMouse',['Event','BrowseMouseSpeedTracker','CSS','DOM','DataStore','Parent','BrowseRunOnLeave','Toggler','cx','removeFromArray'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=500,s="_3u0",t="_3u1",u=null,v=[];function w(ea){return m.byClass(ea,t);}function x(ea){return 'browse-'+(ea?'over':'out');}function y(ea){return j.addClass(ea,t);}function z(ea,fa,ga,ha){var ia=w(fa);if(!ha)v.push({element:fa,callback:ga});if(ia){var ja=x(ea),ka=l.get(ia,ja,[]);l.set(ia,ja,ka.concat(ga));return ia;}}function aa(ea,fa){if(ea){j.conditionClass(ea,s,fa);var ga=l.get(ea,x(fa));ga&&ga.forEach(function(ha){ha();});}}function ba(ea){var fa=ea.element;['browse-over','browse-out'].forEach(function(ga){var ha=l.get(fa,ga);if(ha){q(ha,ea.callback);ha.length||l.remove(fa,ga);}});}function ca(){var ea=null;if(u)return;u=h.listen(document.body,'mouseover',function(fa){var ga=w(fa.getTarget());if(!ga||ga==ea)return;var ha=null,ia=null,ja=false;ea=ga;var ka=i.addTrigger(r,function(){aa(ga,true);ja=true;}),la=function(){ka.remove();na.remove();ha&&ha.remove();ia&&ia.unsubscribe();},ma=function(){la();ja&&aa(ga,false);ea=null;},na=h.listen(ga,'mouseleave',function(){var oa=o.getActive();if(oa&&k.contains(ga,oa)){ia=o.subscribe('hide',ma);ha=h.listen(ga,'mouseover',la);}else ma();});});n.register(function(){while(v.length)ba(v.pop());});}var da={init:ca,makeTarget:y,onMouseOver:z.bind(null,true),onMouseOut:z.bind(null,false),removeListeners:ba};f.exports=da;},null);
__d('BrowseScrollingPager',['Arbiter','CSS','DOM','OnVisible','SubscriptionsHandler','UIPagelet'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=800,o=[],p,q=0;function r(s,t,u){'use strict';this.loadingNode=s;this.globalData=t;this.visibleBuffer=u?u:n;this.subscriptionsHandler=new l();p&&this.pageletComplete(p);p=null;}r.prototype.pageletComplete=function(s){'use strict';this.pageData=s;h.inform('BrowseScrollingPageletLoaded');setTimeout(this.$BrowseScrollingPager1.bind(this),1000);};r.prototype.destroy=function(){'use strict';if(this.pageletLoadHandler)this.pageletLoadHandler.cancel();this.loadingNode=null;this.subscriptionsHandler.release();};r.prototype.$BrowseScrollingPager1=function(){'use strict';if(!this.loadingNode){return;}else if(this.pageData){i.show(this.loadingNode);this.subscriptionsHandler.addSubscriptions(new k(this.loadingNode,this.$BrowseScrollingPager2.bind(this),false,this.visibleBuffer));}else i.hide(this.loadingNode);};r.prototype.$BrowseScrollingPager3=function(){'use strict';return 'fbBrowseScrollingPagerContainer'+q++;};r.prototype.$BrowseScrollingPager2=function(){'use strict';if(this.$BrowseScrollingPager4)return;i.show(this.loadingNode.firstChild);this.contentContainer=j.create('div',{id:this.$BrowseScrollingPager3()});j.insertBefore(this.loadingNode,this.contentContainer);this.pageletLoadHandler=m.loadFromEndpoint('BrowseScrollingSetPagelet',this.contentContainer.id,babelHelpers._extends({},this.globalData,this.pageData),{constHeight:true,sid:this.globalData.typeahead_sid||0,displayCallback:this.$BrowseScrollingPager5.bind(this)});};r.prototype.$BrowseScrollingPager5=function(s){'use strict';try{s();}catch(t){this.$BrowseScrollingPager4=true;}finally{this.loadingNode&&i.hide(this.loadingNode.firstChild);}};r.init=function(s,t,u){var v=new r(s,t,u);o.push(v);};r.pageletComplete=function(s){var t=o[o.length-1];if(t){t.pageletComplete.call(t,s);}else p=s;};r.destroyAllPagers=function(){o.forEach(function(s){s.destroy();});o=[];};h.subscribe('BrowseScrollingPager/destroyIfNotLast',function(){if(o.length>1){var s=o.pop();s.destroy();}});f.exports=r;},null);
__d('BrowseViewportTracking',['DOM','$','Arbiter','BrowseClientEventLogger','StreamViewportTracking','csx'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p,q;n=babelHelpers.inherits(r,l);o=n&&n.prototype;r.prototype.initSubscriptions=function(){'use strict';this.subscriptions.addSubscriptions(j.subscribe(['BrowseScrollingPageletLoaded'],this.invalidateAllStoriesCache.bind(this)));};r.prototype.getAllStories=function(){'use strict';var s=h.scry(this.getStream(),"._401d");return s;};r.prototype.getStream=function(){'use strict';if(!q)q=i('initial_browse_result');return q;};r.prototype.getStoryID=function(s){'use strict';var t=JSON.parse(s.getAttribute('data-bt'));if(t)return String(t.id);return null;};r.prototype.getTimetrackingDataToLog=function(s){'use strict';var t=o.getTimetrackingDataToLog.call(this,s);if(!s.story)return t;t.log_type='vpvd';var u=JSON.parse(s.story.getAttribute('data-gt'));if(!u)return t;t.xt=u.xt;return t;};r.prototype.sendDataToLog=function(s,t,u,v){'use strict';if(!t.xt)return;if(t.log_type='vpvd'){t.event='vpvd';k.maybeLogVisiblityEvent(t);}};r.prototype.getDataFromConfig=function(s){'use strict';this.timeout=s.record_delay;this.isTimetrackingEnabled=s.is_timetracking_enabled;this.vpvdDebug=s.vpvd_debug;};r.prototype.getTimeout=function(){'use strict';return this.timeout;};r.prototype.cleanup=function(){'use strict';p=null;o.cleanup.call(this);};function r(){'use strict';n.apply(this,arguments);}f.exports={getInstance:function(){return p;},init:function(s){if(p)return;p=new r();p.init(s);}};},null);
__d('DesktopVisibilityTracking',['Arbiter','ErrorUtils','LitestandMessages','Run','VisibilityTracking','VisibilityTrackingConfig'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={init:function(){if(n.instance===undefined){n.instance=new l(m);n.instance.listeners.addSubscriptions(h.subscribe([j.STORIES_INSERTED],i.guard(function(){n.instance.refreshAndFireEvent();},'VisibilityTracking')));}k.onLoad(function(){n.instance.refreshAndFireEvent();});}};f.exports=n;},null);
__d('InlineVideoAttributionOverlay',['CSS'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){'use strict';this.$InlineVideoAttributionOverlay1=k;this.$InlineVideoAttributionOverlay2=j;j.addListener('beginPlayback',(function(){h.hide(this.$InlineVideoAttributionOverlay1);}).bind(this));j.addListener('pausePlayback',(function(){h.show(this.$InlineVideoAttributionOverlay1);}).bind(this));j.addListener('finishPlayback',(function(){h.show(this.$InlineVideoAttributionOverlay1);}).bind(this));}f.exports=i;},null);