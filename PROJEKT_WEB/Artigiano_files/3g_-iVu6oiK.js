/*!CK:1748772607!*//*1453207144,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["j+g5j"]); }

__d('AdsConnectionsUIExperimentUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(j,k){if(!k||!k.canSeeConnectionsEditorV2||k.isMobileAppEngagementObjective)return false;if(k.canSeeVideoOptions)return true;if(k.canSeeAdsOptions)return true;return k.canSeeConnectionsEditorV2;}var i={shouldShowV2:h};f.exports=i;},null);
__d('AdsSpinner.react',['React','XUISpinner.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'AdsSpinner',contextTypes:{spinnerGroup:j.shape({registerLoadStart:j.func.isRequired,registerLoadEnd:j.func.isRequired})},componentWillMount:function(){if(this.context.spinnerGroup)this.context.spinnerGroup.registerLoadStart();},componentWillUnmount:function(){if(this.context.spinnerGroup)this.context.spinnerGroup.registerLoadEnd();},render:function(){return h.createElement(i,this.props);}});f.exports=k;},null);
__d("AdsStrings",["fbt"],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={MixedFormatEditWarning:h._("Your selection has multiple objectives, ad formats, or options that can't be edited together. As a result, not all options are available to edit for this selection."),MixedValuePlaceholder:h._("Mixed Values"),MixedVisibilityFieldWarning:h._("This field is not applicable for some of the selected ads. Change your selection to edit this field."),UntitledAdPlaceholder:h._("[Untitled]"),UntitledCampaignPlaceholder:h._("[Untitled]")};f.exports=i;},null);
__d('AdsNotes.react',['React','cx'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=h.createClass({displayName:'AdsNotes',propTypes:{notes:j.string},render:function(){var l="_44sf";return (h.createElement('div',{className:l},this.props.notes));}});f.exports=k;},null);
__d('MenuStaticItem.react',['MenuStaticItem'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k){k.isReactLegacyFactory={};k.type=k;}var j=h;i(j);f.exports=j;},null);
__d('XUIDialogCloseButton.react',['React','XUIDialogButton.react','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'XUIDialogCloseButton',render:function(){return (h.createElement(i,babelHelpers._extends({},this.props,{action:'cancel',label:j._("Close")})));}});f.exports=k;},null);
__d('XUIDialogSaveButton.react',['React','XUIDialogButton.react','fbt'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'XUIDialogSaveButton',render:function(){return (h.createElement(i,babelHelpers._extends({},this.props,{action:'confirm',label:j._("Save")})));}});f.exports=k;},null);
__d('XUIMenuStaticItem.react',['MenuStaticItem.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h;f.exports=i;},null);
__d("Collection",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){if(!i.__collection__){var k=new Function();for(var l in i.prototype)k.prototype[l]=h._call.bind(null,l);i.__collection__=k;}var m=new i.__collection__();m._elements=j;return m;}h._call=function(i){var j=Array.prototype.slice.call(arguments,1);this._elements.forEach(function(k){k[i].apply(k,j);});return this;};f.exports=h;},null);
__d('Drag',['Event','Arbiter','DOM','Style','Vector'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m={};m.currentDraggable=null;m.grab=function(n){if(m.currentDraggable)m._onmouseup();n.lastDragOver=null;m.attachDragEvents();m.currentDraggable=n;};m.attachDragEvents=function(){document.onselectstart=function(){document.onselectstart=null;return false;};if(m.dragEventsAttached)return;m.dragEventsAttached=true;i.subscribe('scroller/scroll',m._onmousemove);h.listen(document,{mousemove:m._onmousemove,mouseup:m._onmouseup});};m.droppables={};m.addDroppable=function(n,o){(m.droppables[n]=m.droppables[n]||[]).push(o);};m.removeDroppable=function(n,o){m.droppables[n]=m.droppables[n].filter(function(p){return p!=o;});};m.getOffsetParent=function(n){if(j.isNodeOfType(n,['body','html']))return document.body;while((n=n.parentNode)&&n!==document.body)if(k.get(n,'position')!=='static')return n;return document.body;};m._onmousemove=function(event,n){if(!m.currentDraggable)return;var o=n||l.getEventPosition(event),p=m.currentDraggable,q=m.droppables[p.namespace];if(p.namespace&&p.active&&q){var r={};q.forEach(function(x){r[x.zIndex]=x.zIndex;});var s=[];for(var t in r)s.push(r[t]);s.sort();var u=p.lastDragOver,v=null;for(var w=s.length-1;w>=0;w--)if(u&&u.dom!=null&&u.zIndex==s[w]&&u.isDraggedOver(o)){v=u;break;}else for(t=0;t<q.length;t++){if(s[w]!=q[t].zIndex)continue;if(u!=q[t]&&p.dom!=q[t].dom&&q[t].isDraggedOver(o)){v=q[t];w=-1;break;}}if(v&&v!=u){v.ondragover(p);m.currentDraggable.adjustCursorPosition();}if(v)v.ondragmove(p,o.sub(l.getElementPosition(v.dom)));p.lastDragOver=v;}m.currentDraggable._onmousemove(o);};m._onmouseup=function(n){document.onselectstart=null;if(m.currentDraggable){m.currentDraggable._ondrop();m.currentDraggable=null;}};f.exports=m;},null);
__d('Draggable',['Event','Arbiter','Collection','DOM','Drag','Rect','Style','Vector','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();function q(s){'use strict';this.canvas=s;this.scrollZone=50;this.velocity=100;this.coefficient=1;}q.prototype.activate=function(){'use strict';this.activate=p;this.event=h.listen(document,'mousemove',this._onmousemove.bind(this));this.interval=setInterval(this._intervalHandler.bind(this),50);this.cursor=null;};q.prototype.deactivate=function(){'use strict';delete this.activate;this.event&&this.event.remove();this.event=null;clearInterval(this.interval);};q.prototype._onmousemove=function(event){'use strict';this.cursor=o.getEventPosition(event);};q.prototype._intervalHandler=function(){'use strict';if(!this.cursor)return;var s=this.canvas==document.body?m.getViewportBounds():new m(this.canvas),t=new m(this.cursor.y-s.t,s.r-this.cursor.x,s.b-this.cursor.y,this.cursor.x-s.l),u=new o(0,0);if(t.t<t.b&&t.t<this.scrollZone){u.y=-this.scrollZone+t.t;}else if(t.b<this.scrollZone)u.y=this.scrollZone-t.b;u.y=this._doMath(u.y);if(t.l<t.r&&t.l<this.scrollZone){u.x=-this.scrollZone+t.l;}else if(t.r<this.scrollZone)u.x=this.scrollZone-t.r;u.x=this._doMath(u.x);if(u.x||u.y){u.scrollElementBy(this.canvas);if(document.body==this.canvas){var v=o.getScrollPosition();u.scrollElementBy(this.canvas);var w=o.getScrollPosition();this.cursor=this.cursor.add(w.sub(v));}else u.scrollElementBy(this.canvas);i.inform('scroller/scroll',this.cursor);}};q.prototype._doMath=function(s){'use strict';s=s>=0?Math.min(s,this.scrollZone):Math.max(s,-this.scrollZone);return Math.floor(Math.pow(s/this.scrollZone*this.velocity,this.coefficient));};q.findScrollParent=function(s){'use strict';var t;s=s.parentNode;while(s){if(s.scrollHeight!=s.offsetTop){t=n.get(s,'overflowY');if(t=='scroll'||t=='auto')return s;}s=s.parentNode;}return document.body;};function r(s){'use strict';if(!s)throw new Error('Element should be a DOM node');if(!(this instanceof r)){if(s instanceof Array){var t=[];s.forEach(function(u){t.push(new r(u));});return new j(r,t);}else return new r(s);}else{this.data={};this.handles=[];this.dom=s;this.boundingBox=null;this.useScroller=true;this.grabPctX=this.grabPctY=0;this._shouldKillEvents=true;this.addHandle(this.dom);}}r.prototype.destroy=function(){'use strict';this.handles.forEach((function(s){this.removeHandle(s.obj);}).bind(this));this.data=this.dom=null;};r.prototype.adjustCursorPosition=function(){'use strict';var s=o.getElementDimensions(this.dom);this.cursorPositionVector=new o(parseInt(this.grabPctX*s.x,10),parseInt(this.grabPctY*s.y,10));};r.prototype._onclick=function(event){'use strict';if(!this._shouldKillEvents)return true;if(this.active)return h.kill(event);};r.prototype._ongrab=function(s){'use strict';this.ongrab();if(this.useScroller){if(!this.scroller)this.scroller=new q(q.findScrollParent(this.dom));this.scroller.activate();}if(this.active){if(!this.oldPosition)this.oldPosition=this.dom.style.position;var t=l.getOffsetParent(this.dom);if(t!==document.body)s=s.sub(o.getElementPosition(t));this.dom.style.position=this.absolute?'absolute':'relative';s.sub(this.cursorPositionVector).setElementPosition(this.dom);}};r.prototype._onmousedown=function(event){'use strict';if(!(event.which&&event.which===1||event.button&&event.button===1))return;var s=event.getTarget();if(k.isNodeOfType(s,['input','select','textarea','object','embed']))return true;var t=o.getEventPosition(event),u=o.getElementDimensions(this.dom);this.draggableInitialVector=o.getElementPosition(this.dom);this.cursorPositionVector=t.sub(this.draggableInitialVector);this.grabPctX=u.x===0?0:this.cursorPositionVector.x/u.x;this.grabPctY=u.y===0?0:this.cursorPositionVector.y/u.y;l.grab(this,event);if(this.gutter){this.cursorInitialVector=t;}else{this._setActive(true);this._ongrab(t);}if(!this._shouldKillEvents)return true;return h.kill(event);};r.prototype._onmousemove=function(s){'use strict';if(!this.active)if(s.distanceTo(this.cursorInitialVector)>=this.gutter){this._setActive(true);this._ongrab(s);}if(this.active){var t=s.sub(this.cursorPositionVector),u;if(this.boundingBox){var v=m.newFromVectors(t,o.getElementDimensions(this.dom));v=v.boundWithin(this.boundingBox);t=v.getPositionVector();if(this.boundingBox.w()===0){u=new o(this.draggableInitialVector.x,t.y,'document');}else if(this.boundingBox.h()===0){u=new o(t.x,this.draggableInitialVector.y,'document');}else u=t;}else u=t;var w=l.getOffsetParent(this.dom);if(w!==document.body)u=u.sub(o.getElementPosition(w));u.setElementPosition(this.dom);this.ondrag(s);}};r.prototype._ondrop=function(){'use strict';this.scroller&&this.scroller.deactivate();if(this.active){setTimeout((function(){this._setActive(false);}).bind(this),0);this.ondrop(this.scroller&&this.scroller.cursor);if(this.lastDragOver)this.lastDragOver.ondrop(this);}};r.prototype.killDrag=function(){'use strict';this._setActive(false);l._onmouseup();};r.prototype.forceDrop=function(){'use strict';l._onmouseup();};r.prototype.setBoundingBox=function(s){'use strict';this.boundingBox=s;return this;};r.prototype.resetPosition=function(){'use strict';this.dom.style.position=this.oldPosition;this.oldPosition=null;this.dom.style.left='';this.dom.style.top='';return this;};r.prototype.setUseAbsolute=function(s){'use strict';this.absolute=s;return this;};r.prototype.setDragHandler=function(s){'use strict';this.ondrag=s;return this;};r.prototype.setGrabHandler=function(s){'use strict';this.ongrab=s;return this;};r.prototype.setDropHandler=function(s){'use strict';this.ondrop=s;return this;};r.prototype.setGutter=function(s){'use strict';this.gutter=s;return this;};r.prototype.setNamespace=function(s){'use strict';this.namespace=s;return this;};r.prototype.setUseScroller=function(s){'use strict';this.useScroller=s;return this;};r.prototype.setAvoidKillingEvents=function(s){'use strict';this._shouldKillEvents=!s;return this;};r.prototype.addHandle=function(s){'use strict';if(this.handles.length==1&&this.handles[0].obj==this.dom)this.removeHandle(this.dom);this.handles.push({obj:s,evt:[h.listen(s,'mousedown',this._onmousedown.bind(this)),h.listen(s,'click',this._onclick.bind(this)),h.listen(s,'drag',this._killUnlessActive.bind(this)),h.listen(s,'selectstart',this._killUnlessActive.bind(this))]});return this;};r.prototype.removeHandle=function(s){'use strict';this.handles=this.handles.filter(function(t){if(t.obj!=s){return true;}else{t.evt.forEach(function(u){u.remove();});return false;}});};r.prototype.getDOM=function(){'use strict';return this.dom;};r.prototype.setKey=function(s,t){'use strict';this.data[s]=t;return this;};r.prototype.getKey=function(s){'use strict';return this.data[s];};r.prototype._setActive=function(s){'use strict';if(!this.dom)return;this.dom.activeDrag=this.active=s;for(var t=0;t<this.handles.length;t++)this.handles[t].obj.activeDrag=s;};r.prototype._killUnlessActive=function(s){'use strict';if(!this._shouldKillEvents)return;if(s.getTarget()!==document.activeElement)return s.kill();};r.prototype.ondrag=p;r.prototype.ongrab=p;r.prototype.ondrop=p;r.prototype.gutter=0;r.prototype.handles=null;f.exports=r;},null);
__d("XPagesGetTargetingMetadataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/targeting\/metadata\/",{page_id:{type:"Int",required:true},target_spec:{type:"String",required:true}});},null);
__d("XStickerPhotoEditorController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/photos\/editor\/sticker_editor\/",{grid_id:{type:"String"},feedback_id:{type:"String"},target_type:{type:"Enum",required:true,enumType:1},photo_fbid:{type:"Int",required:true},latest_fbid:{type:"Int"},initial_tab:{type:"Enum",enumType:1}});},null);