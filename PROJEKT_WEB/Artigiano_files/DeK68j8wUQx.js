/*!CK:510551197!*//*1453256712,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Q7XaA"]); }

__d('ScrollColumn.react',['cx','invariant','joinClasses','throttle','tidyEvent','Arbiter','Event','React','ReactDOM','Vector','ViewportBounds'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=o.PropTypes,t='ScrollColumn/adjust',u=o.createClass({displayName:'ScrollColumn',propTypes:{topOffset:s.number,zIndex:s.number},getDefaultProps:function(){return {topOffset:0,zIndex:0};},_scroll:0,_scrollDelta:0,getInitialState:function(){return {fixed:null,fixedBottom:0,fixedTop:this.props.topOffset,top:0};},render:function(){var v='auto',w=this.state.fixedLeft,x='auto';if(this.state.fixed==='bottom'){v=this.state.fixedBottom;}else if(this.state.fixed==='top'){x=this.state.fixedTop;}else{w='auto';x=this.state.top;}var y=j(this.props.className,"_5ss7");return (o.createElement('div',{className:y,ref:'container'},o.createElement('div',{className:"_5ss8"+(this.state.fixed?' '+"fixed_always":''),ref:'column',style:{bottom:v,left:w,top:x,zIndex:this.props.zIndex}},this.props.children)));},componentDidMount:function(){this.setState({adjustEventListener:l(m.subscribe(t,(function(){this._adjust();}).bind(this))),resizeListener:l(n.listen(window,'resize',k(this._adjust))),scrollListener:l(n.listen(window,'scroll',this._onScroll)),viewportBoundsUpdateListener:l(r.subscribe('change',this._adjust))});this._adjust();},componentDidUpdate:function(v,w){if(w.fixed!==this.state.fixed)m.inform('reflow');},componentWillUnmount:function(){this.state.adjustEventListener.unsubscribe();this.state.resizeListener.remove();this.state.scrollListener.remove();},_onScroll:function(event){var v=q.getScrollPosition().y;this._scrollDelta=v-this._scroll;this._scroll=v;this._adjust();},_adjust:function(){if(!this.isMounted())return;this._updateContainerHeight();this._updateColumnWidth();if(this._isContainerBelowViewportTop()){this._setNotFixed(0);return;}if(!this._isColumnLargerThanViewport()){this._setFixedToTop();return;}if(this._scrollDelta>0)if(this._isBottomOfColumnVisible()){this._setFixedToBottom();return;}if(this._scrollDelta<0)if(this._isTopOfColumnVisible()){this._setFixedToTop();return;}var v=this._getTopPositionForRef('column'),w=this._getTopPositionForRef('container'),x=v-w;this._setNotFixed(x);},_getTopPositionForRef:function(v){var w=this.refs[v];!w?i(0):undefined;var x=q.getElementPosition(p.findDOMNode(w),'viewport').y;if(this._scroll<0)x+=this._scroll;return x;},_getTopBoundWithOffset:function(){return r.getTop()+this.props.topOffset;},_isContainerBelowViewportTop:function(){var v=this._getTopPositionForRef('container');return v>=this._getTopBoundWithOffset();},_isColumnLargerThanViewport:function(){var v=q.getViewportDimensions().y-r.getBottom()-this._getTopBoundWithOffset();return p.findDOMNode(this.refs.column).offsetHeight>v;},_isBottomOfColumnVisible:function(){var v=this._getTopPositionForRef('column'),w=q.getElementDimensions(p.findDOMNode(this.refs.column),'viewport').y,x=v+w;return x<=q.getViewportDimensions().y-r.getBottom();},_isTopOfColumnVisible:function(){var v=this._getTopPositionForRef('column');return v>=this._getTopBoundWithOffset();},_getFixedLeft:function(){return (q.getElementPosition(p.findDOMNode(this.refs.container),'viewport').x);},_setFixedToBottom:function(){this.setState({fixed:'bottom',fixedBottom:r.getBottom(),fixedLeft:this._getFixedLeft()});},_setFixedToTop:function(){this.setState({fixed:'top',fixedLeft:this._getFixedLeft(),fixedTop:this._getTopBoundWithOffset()});},_setNotFixed:function(v){this.setState({fixed:false,top:v});},_updateContainerHeight:function(){p.findDOMNode(this.refs.container).style.height=p.findDOMNode(this.refs.column).offsetHeight+'px';},_updateColumnWidth:function(){p.findDOMNode(this.refs.column).style.width=p.findDOMNode(this.refs.container).offsetWidth+'px';}});u.EVENT_SHOULD_ADJUST=t;f.exports=u;},null);
__d('ScrollColumnRenderer',['DOMContainer.react','React','ReactRenderer','ScrollColumn.react'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={init:function(m,n,o){j.constructAndRenderComponentAcrossTransitions(k,babelHelpers._extends({children:[i.createElement(h,{key:'content'},m)]},o),n);}};f.exports=l;},null);